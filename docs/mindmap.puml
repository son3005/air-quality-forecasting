@startmindmap
* Phân tích chất lượng không khí & Dự báo tại TP. Cần Thơ

** BƯỚC 1 – PHÂN TÍCH TỔNG QUAN
*** Bài toán
**** Time Series Forecasting
***** Dự báo PM2.5
***** Có thể mở rộng AQI
**** Khu vực: TP. Cần Thơ
**** Mục tiêu
***** Dự báo ngắn hạn
***** Hỗ trợ cảnh báo sớm
***** Hỗ trợ quản lý chất lượng không khí

*** Input – Output
**** Input
***** Chất lượng không khí
****** PM2.5
****** PM10
****** CO
****** NO2
****** O3
****** SO2
****** AQI
***** Khí tượng
****** Nhiệt độ
****** Độ ẩm
****** Tốc độ gió
****** Lượng mưa
****** Áp suất
***** Tần suất: theo giờ
***** Thời gian: 01/01/2023 – 01/12/2025

**** Output
***** Dự báo PM2.5
***** Có thể dự báo AQI
***** Horizon
****** 24 giờ tiếp theo
****** 7 ngày tiếp theo

*** Phạm vi
**** Không gian
***** TP. Cần Thơ
***** Tọa độ: 10.047264, 105.768115
**** Thời gian
***** Gần 3 năm dữ liệu

*** Phân loại bài toán
**** Forecasting
**** Multivariate Time Series
**** Short-term Prediction
**** Ưu tiên cảnh báo sớm

** BƯỚC 2 – MINDMAP TOÀN BỘ DỰ ÁN

*** 1. Data Collection
**** Sources
***** Air Quality Data
****** Weatherbit API
***** Weather Data
****** Weatherbit API

**** Crawl Strategy
***** Chia block 30 ngày
***** Tránh giới hạn API
***** Lưu raw data
****** CSV
****** JSON
***** Ghi log crawl

**** Data Validation
***** Kiểm tra số bản ghi
****** Lý thuyết: 25,561 giờ
***** Kiểm tra phạm vi ngày
***** Kiểm tra trường bắt buộc
****** timestamp
****** các chỉ số
***** Output
****** air_quality_raw.csv
****** weather_hourly_raw.csv

*** 2. Data Preprocessing
**** Cleaning
***** Loại bỏ cột không cần thiết
****** ts
****** datetime
***** Chuyển kiểu timestamp
***** Xóa bản ghi trùng lặp

**** Missing Values
***** Phát hiện missing theo thời gian
***** Imputation
****** MICE cho biến số
****** Forward fill
****** Backward fill
***** Biến phân loại
****** pod

**** Resampling
***** Tạo index hourly đầy đủ
***** Xử lý khoảng trống thời gian
***** Có thể resample daily

**** Feature Engineering
***** Biến thời gian
****** Giờ
****** Ngày
****** Tháng
****** Năm
****** Day of week
****** Is weekend
***** Lag features
***** Rolling statistics
****** Mean 7 ngày
****** Std 7 ngày
***** Feature tương tác
****** temp * humidity
***** Fourier features
****** Seasonality
***** Encoding
****** pod
****** season
***** Output
****** cleaned_data.csv

*** 3. Exploratory Data Analysis (EDA)
**** Thống kê mô tả
***** describe
***** info
**** Phân phối
***** Histogram
***** Boxplot
**** Phân tích chuỗi thời gian
***** Trend
***** Seasonality
***** Cyclic
**** Tương quan
***** Correlation matrix
***** Heatmap
**** AQI & PM2.5 theo thời gian
**** Phân tích theo
***** Giờ
***** Tháng
***** Mùa
**** Ảnh hưởng khí tượng
***** Scatter
***** Line plot
**** Outlier detection
***** IQR
***** Z-score
***** Kiến thức chuyên gia
**** Output
***** Báo cáo EDA
***** Insight cho feature selection

*** 4. Modeling
**** Data Split (Time-based)
***** Train
****** 2023-01-01 → 2025-04-30 (80%)
***** Validation
****** 2025-05-01 → 2025-08-31 (10%)
***** Test
****** 2025-09-01 → 2025-12-01 (10%)

**** Feature Selection
***** Dựa trên EDA
***** Feature importance
***** Loại đa cộng tuyến
***** Phù hợp từng mô hình

**** Model Selection
***** Statistical
****** ARIMA
****** SARIMA
****** SARIMAX
***** Machine Learning
****** XGBoost
****** Random Forest
****** Gradient Boosting
***** Deep Learning
****** LSTM
****** GRU
****** CNN-LSTM
***** Hybrid models

**** Hyperparameter Tuning
***** Grid Search
***** Random Search
***** TimeSeriesSplit
***** Tránh data leakage

**** Training
***** Train set
***** Validation tuning
***** Lưu model tốt nhất
***** Output
****** pkl models
****** training logs
****** best parameters

*** 5. Evaluation
**** Test set (unseen)
***** Metrics
****** MAE
****** RMSE
****** MAPE
****** R-squared
***** Visualization
****** Actual vs Predicted
****** Residual analysis
***** Theo phân khúc
****** Mùa khô
****** Mùa mưa
****** Giờ cao điểm

**** Walk-forward validation
**** Baseline comparison
***** Naive forecast
***** Mean forecast
**** Output
***** Báo cáo đánh giá
***** Nhận xét ưu / nhược điểm

*** 6. Forecasting
**** Short-term forecast
***** 7 ngày tiếp theo
**** Model update
***** Retrain định kỳ
***** Online learning
**** Cảnh báo
***** Vượt ngưỡng an toàn
**** Output
***** Dự báo ngày / tuần
***** Cảnh báo

*** 7. Reporting
**** Technical report
**** Executive summary
**** Slides trình bày
**** Code repository
***** README
***** requirements.txt
**** Output
***** Báo cáo
***** Slides
***** Code hoàn chỉnh

** BƯỚC 3 – LIÊN KẾT FILE CODE
*** crawl-data
**** Data Collection
**** Thiếu validation
**** Thiếu mô tả crawl strategy

*** clean-explore-data
**** Data Preprocessing
**** Partial EDA
**** Thiếu feature engineering
**** Thiếu correlation & outlier analysis

*** models
**** Modeling
**** Evaluation
**** ARIMA + Walk-forward
**** Thiếu ML/DL
**** Thiếu tuning sâu

*** Tổng kết
**** Cover 60–70% pipeline
**** Thiếu bước quan trọng
**** Cần tách rõ Preprocessing – EDA – Modeling

** BƯỚC 4 – WORKING PRINCIPLES
*** Time Series Rules
**** Giữ nguyên thứ tự thời gian
**** Không dùng thông tin tương lai
**** Time-based split

*** Tránh Data Leakage
**** Lag chỉ dùng quá khứ
**** Scaling fit trên train
**** Transform trên val/test

*** Train / Val / Test
**** 80% – 10% – 10%
**** TimeSeriesSplit

*** Logging & Reproducibility
**** Log preprocessing
**** Log hyperparameters
**** Git
**** Version dữ liệu
**** Random seed

*** Tách bạch pipeline
**** EDA
**** Feature Engineering
**** Modeling
**** Evaluation

@endmindmap
